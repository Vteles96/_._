<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Inventario</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Usa tu CSS ya compilado -->
  <link rel="stylesheet" href="build/css/app.css" />
  <style>
    /* üé® Estilo mejorado Inventario */
    body {
      background: #f8f6f2;
    }
  
    .inventario-wrap {
      background: #ffffff;
      padding: 3rem;
      margin: 4rem auto;
      max-width: 98vw;      /* usa casi todo el ancho visible del navegador */
      width: 98%;
      border-radius: 1.2rem;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.08);
    }
  
    .inventario-toolbar {
      display: flex;
      gap: 1.2rem;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 2rem;
    }
  
    .inventario-toolbar input,
    .inventario-toolbar select,
    .inventario-toolbar button {
      border: 2px solid #a3724c;
      border-radius: .6rem;
      padding: .8rem 1.2rem;
      font-size: 1.6rem;
      background-color: #fdfaf6;
      color: #3b2d1f;
    }
  
    .inventario-toolbar button {
      background-color: #a3724c;
      color: #fff;
      cursor: pointer;
      transition: all 0.2s ease;
    }
  
    .inventario-toolbar button:hover {
      background-color: #5e311e;
    }
  
    .inventario-table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      font-size: 1.6rem;
    }
  
    .inventario-table th {
      background-color: #a3724c;
      color: #fff;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .05rem;
      padding: 1.2rem;
    }
  
    .inventario-table td {
      border-bottom: 1px solid #e8e3db;
      padding: 1.2rem;
      color: #3b2d1f;
    }
  
    .inventario-table tr:nth-child(even) {
      background-color: #faf8f5;
    }
  
    .inventario-table tr:hover {
      background-color: #f3eae3;
    }
  
    .badge {
      display: inline-block;
      padding: .4rem .8rem;
      border-radius: .8rem;
      background: #ebe7de;
      color: #5e311e;
      font-weight: 500;
    }
  
    @media (max-width: 900px) {
      .inventario-table th, .inventario-table td {
        font-size: 1.4rem;
        padding: .8rem;
      }
      .inventario-wrap {
        padding: 2rem;
      }
    }
    .sin-stock {
    background-color: #fddede !important;  /* rojo claro */
    color: #8b0000;
    font-weight: 600;
    }

    .bajo-stock {
    background-color: #fff4cc !important;  /* naranja claro */
    color: #a35b00;
    font-weight: 600;
    }
    
    /* üßæ Formulario Inventario */
    #invForm {
      margin-bottom: 2rem;
    }

    #invForm input,
    #invForm select {
      border: 2px solid #a3724c;
      border-radius: .6rem;
      padding: .8rem 1.2rem;
      font-size: 1.6rem;
      background-color: #fdfaf6;
      color: #3b2d1f;
      width: 100%;
    }

    #invForm button {
      border: none;
      padding: .8rem 1.2rem;
      border-radius: .6rem;
      font-size: 1.6rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    #btnCrear {
      background-color: #5e311e;
      color: #fff;
    }

    #btnActualizar {
      background-color: #a3724c;
      color: #fff;
    }

    #invForm button[disabled] {
      opacity: 0.5;
      cursor: not-allowed;
    }
        /* üìä KPI Cards */
    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 1.2rem;
      margin-bottom: 1.2rem;
    }
    .kpi {
      background: #ffffff;
      border: 1px solid #eadfd4;
      border-radius: 1rem;
      padding: 1.2rem 1.6rem;
      box-shadow: 0 4px 16px rgba(0,0,0,0.04);
    }
    .kpi-title {
      font-size: 1.25rem;
      color: #7a604b;
      margin-bottom: .4rem;
    }
    .kpi-value {
      font-size: 2.2rem;
      font-weight: 800;
      color: #3b2d1f;
    }
    .kpi-warn {
      background: #fff7e6;
      border-color: #ffe3b3;
    }
    .kpi-alert {
      background: #ffecec;
      border-color: #ffc6c6;
    }
    @media (max-width: 900px) {
      .kpi-grid { grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
        /* üßØ Panel de cr√≠ticos */
    .criticos {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 1rem;
      margin-bottom: 1.2rem;
    }
    .criticos-block {
      background: #fff;
      border: 1px solid #eadfd4;
      border-radius: 1rem;
      padding: 1rem 1.2rem;
      box-shadow: 0 4px 16px rgba(0,0,0,0.04);
    }
    .criticos-block h3 {
      margin: 0 0 .6rem 0;
      font-size: 1.4rem;
      color: #3b2d1f;
    }
    .criticos-zero { background: #ffecec; border-color: #ffc6c6; }
    .criticos-low  { background: #fff7e6; border-color: #ffe3b3; }
    .criticos-list {
      list-style: none;
      padding: 0;
      margin: 0;
      max-height: 220px;
      overflow: auto;
    }
    .criticos-list li {
      display: flex;
      justify-content: space-between;
      gap: .8rem;
      padding: .5rem 0;
      border-bottom: 1px dashed rgba(0,0,0,0.06);
      font-size: 1.45rem;
    }
    .criticos-list li:last-child { border-bottom: 0; }
    .criticos-list .name { font-weight: 600; color: #3b2d1f; }
    .criticos-list .qty  { opacity: .8; }
    @media (max-width: 900px) {
      .criticos { grid-template-columns: 1fr; }
    }
      /* üå´Ô∏è Overlay de selecci√≥n */
    .overlay {
      position: fixed; inset: 0;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(8px);
      display: flex; align-items: center; justify-content: center;
      z-index: 9999; transition: opacity .3s ease;
    }
    .overlay.hidden { opacity: 0; pointer-events: none; }
    .overlay-content {
      background: rgba(255,255,255,.95);
      border-radius: 1rem; box-shadow: 0 8px 40px rgba(0,0,0,.1);
      padding: 3rem 4rem; text-align: center; color: #3b2d1f; max-width: 520px;
    }
    .overlay-content h2 { margin: 0 0 2rem; font-size: 2.2rem; font-weight: 700; }
    .overlay-buttons { display: flex; flex-direction: column; gap: 1rem; }
    .overlay-btn {
      padding: 1rem 1.5rem; font-size: 1.6rem; border: none; border-radius: .8rem;
      background: #a3724c; color: #fff; cursor: pointer; transition: transform .1s ease, background .2s;
    }
    .overlay-btn:hover { background: #5e311e; transform: translateY(-2px); }
  </style>
</head>
<body class="bg-white">
    <!-- OVERLAY SELECCI√ìN INVENTARIO -->
  <div id="overlayInventario" class="overlay">
    <div class="overlay-content">
      <h2>Selecciona el inventario que deseas ver</h2>
      <div class="overlay-buttons">
        <!-- Opci√≥n actual (tu √∫nica vista) -->
        <button class="overlay-btn" data-view="Grid view Normalizada">üç∞ Cocina - Miminho</button>

        <!-- Futuro: descomenta o duplica con otra vista/tabla
        <button class="overlay-btn" data-view="Otra vista">üéÇ Reposter√≠a</button>
        -->
      </div>
    </div>
  </div>
  <!-- HEADER: mismo look que tu sitio; reutilizo la clase de cabecera -->
  <header class="header header-menu">
    <div class="contenido-header contenedor">
      <div class="barra">
        <div class="logo">
          <a href="index.html"><img src="build/img/logo.svg" alt="Logo" /></a>
        </div>
        <nav class="nav-principal">
          <a href="index.html">Inicio</a>
          <a href="nosotros.html">Nosotros</a>
          <a href="proceso.html">Proceso</a>
          <a href="menu.html">Men√∫</a>
          <a href="galeria.html">Galeria</a>
          <a href="contacto.html">Contacto</a>
          <a class="activo" href="inventario.html">Inventario</a>
        </nav>
      </div>
      <div class="texto-header">
        <h1>Inventario</h1>
      </div>
    </div>
  </header>

  <main class="contenedor contenido-principal">
    <section class="inventario-wrap">
            <!-- KPI CARDS -->
      <div class="kpi-grid">
        <div class="kpi">
          <div class="kpi-title">√çtems visibles</div>
          <div class="kpi-value" id="kpiItems">‚Äî</div>
        </div>
        <div class="kpi">
          <div class="kpi-title">Stock total</div>
          <div class="kpi-value" id="kpiStock">‚Äî</div>
        </div>
        <div class="kpi kpi-warn">
          <div class="kpi-title">Bajo stock (‚â§1)</div>
          <div class="kpi-value" id="kpiBajo">‚Äî</div>
        </div>
        <div class="kpi kpi-alert">
          <div class="kpi-title">Sin stock (=0)</div>
          <div class="kpi-value" id="kpiZero">‚Äî</div>
        </div>
      </div>
      <!-- PANEL CR√çTICOS -->
      <aside class="criticos">
        <div class="criticos-block criticos-zero">
          <h3>üî¥ Sin stock</h3>
          <ul id="listZero" class="criticos-list"></ul>
        </div>
        <div class="criticos-block criticos-low">
          <h3>üü† Bajo stock (‚â§1)</h3>
          <ul id="listLow" class="criticos-list"></ul>
        </div>
      </aside>
      <div class="inventario-toolbar">
        <input id="q" type="search" placeholder="Buscar por nombre..." />
        <select id="tipo">
          <option value="">Todos los tipos</option>
          <option value="caixa">Caixa</option>
          <option value="embalagens">Embalagens</option>
          <option value="frasco">Frasco</option>
          <option value="garrafa">Garrafa</option>
          <option value="lata">Lata</option>
          <option value="saco">Saco</option>
          <option value="saquinho">Saquinho</option>
          <option value="unid">Unid</option>
        </select>
        <button id="btnReload" type="button">Recargar</button>
        <span id="total" class="badge">0 √≠tems</span>
      </div>

      <!-- üîπ FORMULARIO (va AQU√ç, justo debajo de la barra) -->
    <form id="invForm" style="margin-bottom:2rem;">
      <div style="display:grid;grid-template-columns: repeat(6, minmax(0,1fr)); gap:1rem;">
        <input id="f-nombre"  type="text" placeholder="Producto *" required />
        <input id="f-marca"   type="text" placeholder="Marca" />
        <select id="f-tipo">
          <option value="">Tipo</option>
          <option value="caixa">Caixa</option>
          <option value="embalagens">Embalagens</option>
          <option value="frasco">Frasco</option>
          <option value="garrafa">Garrafa</option>
          <option value="lata">Lata</option>
          <option value="saco">Saco</option>
          <option value="saquinho">Saquinho</option>
          <option value="unid">Unid</option>
        </select>
        <input id="f-cantidad" type="number" step="1" min="0" placeholder="Cantidad *" required />
        <select id="f-unidad">
          <option value="">Unidad</option>
          <option value="kg">kg</option>
          <option value="g">g</option>
          <option value="l">l</option>
          <option value="ml">ml</option>
          <option value="u">u</option>
        </select>
        <input id="f-categoria" type="text" placeholder="Categoria" />
      </div>

      <div style="display:flex; gap:1rem; margin-top:1rem; align-items:center; flex-wrap:wrap;">
        <button id="btnCrear" type="submit">Crear</button>
        <button id="btnActualizar" type="button" disabled>Actualizar seleccionado</button>
        <span id="formMsg" class="badge">Completa los campos y pulsa Crear</span>
      </div>
      <input id="f-id" type="hidden" />
    </form>

      <div class="table-scroll">
        <table class="inventario-table" id="tabla">
          <thead>
            <tr>
              <th data-sort="Nombre">Nombre ‚ñæ</th>
              <th data-sort="Marca">Marca</th>
              <th data-sort="TipoCantidad">Tipo</th>
              <th data-sort="Cantidad">Cantidad</th>
              <th data-sort="Categoria">Categor√≠a</th>
              <th data-sort="Unidad">Unidad</th>
              <th data-sort="Actualizado">Actualizado</th>
            </tr>
          </thead>
          <tbody id="tbody">
            <!-- filas din√°micas -->
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p class="copyright">Todos los derechos reservados. La Cafeteria</p>
  </footer>

  <!-- Carga el JS de esta p√°gina -->
  <script src="js/inventario.js" type="module"></script>
</body>
</html>
